'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _request=require('request');var _request2=_interopRequireDefault(_request);var _tar=require('tar');var _tar2=_interopRequireDefault(_tar);var _fsExtra=require('fs-extra');var _fsExtra2=_interopRequireDefault(_fsExtra);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}const downloadAndExtractCache=async url=>{try{if(!_fsExtra2.default.existsSync('/caches')){_fsExtra2.default.mkdirSync('/caches');}const downloadP=new Promise((resolve,reject)=>{_request2.default.get(url).on('error',err=>reject(err)).pipe(_fsExtra2.default.createWriteStream('/caches/cache.tar.gz')).on('finish',()=>resolve());});await downloadP;await _tar2.default.x({file:'/caches/cache.tar.gz',C:'/caches',preservePaths:true});return'/caches/jsonlds';}catch(e){throw e;}};exports.default=downloadAndExtractCache;